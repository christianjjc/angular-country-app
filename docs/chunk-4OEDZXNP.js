import{A as v,B as S,C as E,D as o,E as c,F as P,G as M,H as L,I as F,J as V,K as se,L as k,M as g,N as j,O as ce,P as le,T as pe,V as me,W as ue,Y as W,Z as de,a as Z,b as K,c as ee,d as G,e as te,f as ne,g as x,h as ie,i as R,j as oe,k as T,l as w,m as re,n as ae,o as Q,p as D,q as a,r as d,s as m,t as O,u,v as p,w as n,x as t,y as l,z as N}from"./chunk-E22NHYTV.js";var f=class r{constructor(i){this.httpClient=i;this.loadFromLS()}apiUrl="https://restcountries.com/v3.1";cacheStore={byCapital:{term:"",countries:[]},byCountries:{term:"",countries:[]},byRegion:{region:"",countries:[]}};saveToLS(){localStorage.setItem("cacheStore",JSON.stringify(this.cacheStore))}loadFromLS(){localStorage.getItem("cacheStore")&&(this.cacheStore=JSON.parse(localStorage.getItem("cacheStore")))}getCountriesRequest(i){return this.httpClient.get(i).pipe(G(()=>K([])))}searchCountryByAlphaCode(i){let e=`${this.apiUrl}/alpha/${i}`;return this.httpClient.get(e).pipe(ee(s=>s.length>0?s[0]:null),G(()=>K(null)))}searchCapital(i){let e=`${this.apiUrl}/capital/${i}`;return this.getCountriesRequest(e).pipe(x(s=>this.cacheStore.byCapital={term:i,countries:s}),x(()=>this.saveToLS()))}searchCountry(i){let e=`${this.apiUrl}/name/${i}`;return this.getCountriesRequest(e).pipe(x(s=>this.cacheStore.byCountries={term:i,countries:s}),x(()=>this.saveToLS()))}searchRegion(i){let e=`${this.apiUrl}/region/${i}`;return this.getCountriesRequest(e).pipe(x(s=>this.cacheStore.byRegion={region:i,countries:s}),x(()=>this.saveToLS()))}static \u0275fac=function(e){return new(e||r)(oe(le))};static \u0275prov=ie({token:r,factory:r.\u0275fac,providedIn:"root"})};var h=class r{static \u0275fac=function(e){return new(e||r)};static \u0275cmp=m({type:r,selectors:[["shared-loading-spinner"]],standalone:!1,decls:15,vars:0,consts:[[1,"spinner-container","bg-dark"],["width","30","height","30","viewBox","0 0 45 45","xmlns","http://www.w3.org/2000/svg","stroke","#fff"],["fill","none","fill-rule","evenodd","transform","translate(1 1)","stroke-width","2"],["cx","22","cy","22","r","6","stroke-opacity","0"],["attributeName","r","begin","1.5s","dur","3s","values","6;22","calcMode","linear","repeatCount","indefinite"],["attributeName","stroke-opacity","begin","1.5s","dur","3s","values","1;0","calcMode","linear","repeatCount","indefinite"],["attributeName","stroke-width","begin","1.5s","dur","3s","values","2;0","calcMode","linear","repeatCount","indefinite"],["attributeName","r","begin","3s","dur","3s","values","6;22","calcMode","linear","repeatCount","indefinite"],["attributeName","stroke-opacity","begin","3s","dur","3s","values","1;0","calcMode","linear","repeatCount","indefinite"],["attributeName","stroke-width","begin","3s","dur","3s","values","2;0","calcMode","linear","repeatCount","indefinite"],["cx","22","cy","22","r","8"],["attributeName","r","begin","0s","dur","1.5s","values","6;1;2;3;4;5;6","calcMode","linear","repeatCount","indefinite"]],template:function(e,s){e&1&&(n(0,"div",0),re(),n(1,"svg",1)(2,"g",2)(3,"circle",3),l(4,"animate",4)(5,"animate",5)(6,"animate",6),t(),n(7,"circle",3),l(8,"animate",7)(9,"animate",8)(10,"animate",9),t(),n(11,"circle",10),l(12,"animate",11),t()()(),ae(),n(13,"span"),o(14,"Buscando"),t()())},styles:[".spinner-container[_ngcontent-%COMP%]{align-items:center;background-color:#000;border-radius:20px;box-shadow:0 3px 5px #0000004d;color:#fff;display:flex;justify-content:center;padding:5px 10px;position:fixed;right:50px;top:15px;width:250px;height:100px}span[_ngcontent-%COMP%]{margin-left:5px}"]})};var B=class r{deBouncer=new Z;deBouncerSubscription;placeHolder="";initialValue="";onValue=new Q;onDeBounce=new Q;emitSearchValue(i){this.onValue.emit(i)}onKeyPress(i){this.deBouncer.next(i)}ngOnInit(){this.deBouncerSubscription=this.deBouncer.pipe(te(300)).subscribe(i=>{this.onDeBounce.emit(i)})}ngOnDestroy(){this.deBouncerSubscription?.unsubscribe()}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=m({type:r,selectors:[["shared-search-box"]],inputs:{placeHolder:"placeHolder",initialValue:"initialValue"},outputs:{onValue:"onValue",onDeBounce:"onDeBounce"},standalone:!1,decls:2,vars:2,consts:[["txtSearchInput",""],["type","text","name","","id","",1,"form-control",3,"keyup","placeholder","value"]],template:function(e,s){if(e&1){let y=N();n(0,"input",1,0),v("keyup",function(){T(y);let ye=E(1);return w(s.onKeyPress(ye.value))}),t()}e&2&&p("placeholder",s.placeHolder)("value",s.initialValue)},styles:["[_nghost-%COMP%]{display:block}"]})};var ve=r=>["/countries/by",r];function he(r,i){r&1&&(n(0,"div",2),o(1,` \xA1No hay pa\xEDses!
`),t())}function be(r,i){if(r&1&&(n(0,"tr")(1,"td"),o(2),t(),n(3,"td"),o(4),t(),n(5,"td"),l(6,"img",5),t(),n(7,"td"),o(8),t(),n(9,"td"),o(10),t(),n(11,"td"),o(12),L(13,"number"),t(),n(14,"td")(15,"a",6),o(16," info... "),t()()()),r&2){let e=i.$implicit,s=i.index;a(2),c(s+1),a(2),c(e.flag),a(2),p("src",e.flags.svg,D)("alt",e.name.common),a(2),c(e.name.common),a(2),c(e.capital),a(2),c(F(13,8,e.population)),a(3),p("routerLink",M(10,ve,e.cca3))}}function xe(r,i){if(r&1&&(n(0,"table",3)(1,"thead")(2,"tr")(3,"th"),o(4,"#"),t(),n(5,"th"),o(6,"Icon"),t(),n(7,"th"),o(8,"Bandera"),t(),n(9,"th"),o(10,"Nombre"),t(),n(11,"th"),o(12,"Capital"),t(),n(13,"th"),o(14,"Poblaci\xF3n"),t(),l(15,"th"),t()(),n(16,"tbody"),u(17,be,17,12,"tr",4),t()()),r&2){let e=S();a(17),p("ngForOf",e.countries)}}var b=class r{countries=[];static \u0275fac=function(e){return new(e||r)};static \u0275cmp=m({type:r,selectors:[["countries-table"]],inputs:{countries:"countries"},standalone:!1,decls:3,vars:2,consts:[["table",""],["class","alert alert-warning text-center",4,"ngIf","ngIfElse"],[1,"alert","alert-warning","text-center"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[3,"src","alt"],[3,"routerLink"]],template:function(e,s){if(e&1&&u(0,he,2,0,"div",1)(1,xe,18,1,"ng-template",null,0,V),e&2){let y=E(2);p("ngIf",s.countries.length===0)("ngIfElse",y)}},dependencies:[k,g,ue,j],styles:["img[_ngcontent-%COMP%]{width:35px}"]})};function Se(r,i){r&1&&l(0,"shared-loading-spinner")}var A=class r{constructor(i){this.countriesService=i}countries=[];isLoading=!1;initialValue="";ngOnInit(){this.countries=this.countriesService.cacheStore.byCapital.countries,this.initialValue=this.countriesService.cacheStore.byCapital.term}searchByCapital(i){!i||i.trim().length<1||(this.isLoading=!0,this.countriesService.searchCapital(i).subscribe(e=>{this.countries=e,this.isLoading=!1}))}static \u0275fac=function(e){return new(e||r)(d(f))};static \u0275cmp=m({type:r,selectors:[["app-by-capital-page"]],standalone:!1,decls:11,vars:3,consts:[[1,"row"],[1,"col"],["placeHolder","Buscar por capital",3,"onDeBounce","initialValue"],[4,"ngIf"],[3,"countries"]],template:function(e,s){e&1&&(n(0,"h2"),o(1,"Listado por Capital"),t(),l(2,"hr"),n(3,"div",0)(4,"div",1)(5,"shared-search-box",2),v("onDeBounce",function(I){return s.searchByCapital(I)}),t()()(),n(6,"div",0)(7,"div",1),l(8,"hr"),u(9,Se,1,0,"shared-loading-spinner",3),l(10,"countries-table",4),t()()),e&2&&(a(5),p("initialValue",s.initialValue),a(4),p("ngIf",s.isLoading),a(),p("countries",s.countries))},dependencies:[g,h,B,b],encapsulation:2})};function Ie(r,i){r&1&&l(0,"shared-loading-spinner")}var U=class r{constructor(i){this.countriesService=i}countries=[];isLoading=!1;initialValue="";ngOnInit(){this.countries=this.countriesService.cacheStore.byCountries.countries,this.initialValue=this.countriesService.cacheStore.byCountries.term}searchByCountry(i){!i||i.trim().length<1||(this.isLoading=!0,this.countriesService.searchCountry(i).subscribe(e=>{this.countries=e,this.isLoading=!1}))}static \u0275fac=function(e){return new(e||r)(d(f))};static \u0275cmp=m({type:r,selectors:[["app-by-country-page"]],standalone:!1,decls:11,vars:3,consts:[[1,"row"],[1,"col"],["placeHolder","Buscar por Pa\xEDs",3,"onDeBounce","initialValue"],[4,"ngIf"],[3,"countries"]],template:function(e,s){e&1&&(n(0,"h2"),o(1,"Listado por Pa\xEDs"),t(),l(2,"hr"),n(3,"div",0)(4,"div",1)(5,"shared-search-box",2),v("onDeBounce",function(I){return s.searchByCountry(I)}),t()()(),n(6,"div",0)(7,"div",1),l(8,"hr"),u(9,Ie,1,0,"shared-loading-spinner",3),l(10,"countries-table",4),t()()),e&2&&(a(5),p("initialValue",s.initialValue),a(4),p("ngIf",s.isLoading),a(),p("countries",s.countries))},dependencies:[g,h,B,b],encapsulation:2})};var Ee=r=>({"btn-outline-primary":r});function _e(r,i){if(r&1){let e=N();n(0,"button",6),v("click",function(){let y=T(e).$implicit,I=S();return w(I.searchByRegion(y))}),o(1),t()}if(r&2){let e=i.$implicit,s=S();p("ngClass",M(2,Ee,s.selectedRegion===e)),a(),P(" ",e," ")}}function Be(r,i){r&1&&l(0,"shared-loading-spinner")}var q=class r{constructor(i){this.countriesService=i}countries=[];regions=["Africa","Americas","Asia","Europe","Oceania"];selectedRegion;isLoading=!1;ngOnInit(){this.countries=this.countriesService.cacheStore.byRegion.countries,this.selectedRegion=this.countriesService.cacheStore.byRegion.region}searchByRegion(i){this.selectedRegion=i,this.isLoading=!0,!(!i||i.trim().length<1)&&this.countriesService.searchRegion(i).subscribe(e=>{this.countries=e,this.isLoading=!1})}static \u0275fac=function(e){return new(e||r)(d(f))};static \u0275cmp=m({type:r,selectors:[["app-by-region-page"]],standalone:!1,decls:11,vars:3,consts:[[1,"row"],[1,"col","text-center"],["class","btn mx-2",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"col"],[4,"ngIf"],[3,"countries"],[1,"btn","mx-2",3,"click","ngClass"]],template:function(e,s){e&1&&(n(0,"h2"),o(1,"Listado por Regi\xF3n"),t(),l(2,"hr"),n(3,"div",0)(4,"div",1),u(5,_e,2,4,"button",2),t()(),n(6,"div",0)(7,"div",3),l(8,"hr"),u(9,Be,1,0,"shared-loading-spinner",4),l(10,"countries-table",5),t()()),e&2&&(a(5),p("ngForOf",s.regions),a(4),p("ngIf",s.isLoading),a(),p("countries",s.countries))},dependencies:[se,k,g,h,b],encapsulation:2})};function Pe(r,i){r&1&&(n(0,"div",2),o(1," Espere por favor "),t())}function Re(r,i){if(r&1&&(n(0,"div")(1,"div",3)(2,"div",4)(3,"h2"),o(4,"Pa\xEDs: "),n(5,"strong"),o(6),t()()()(),n(7,"div",3)(8,"div",5)(9,"h3"),o(10,"Bandera"),t(),l(11,"img",6),t(),n(12,"div",7)(13,"h3"),o(14,"Informaci\xF3n"),t(),n(15,"ul",8)(16,"li",9)(17,"strong"),o(18,"Poblaci\xF3n:"),t(),o(19),L(20,"number"),t(),n(21,"li",9)(22,"strong"),o(23,"C\xF3digo:"),t(),o(24),t()()()(),n(25,"div",10)(26,"div",7)(27,"h3"),o(28,"Traducciones:"),t(),n(29,"div",11)(30,"span",12),o(31),t(),n(32,"span",12),o(33),t(),n(34,"span",12),o(35),t(),n(36,"span",12),o(37),t(),n(38,"span",12),o(39),t(),n(40,"span",12),o(41),t(),n(42,"span",12),o(43),t(),n(44,"span",12),o(45),t(),n(46,"span",12),o(47),t(),n(48,"span",12),o(49),t(),n(50,"span",12),o(51),t(),n(52,"span",12),o(53),t(),n(54,"span",12),o(55),t(),n(56,"span",12),o(57),t(),n(58,"span",12),o(59),t(),n(60,"span",12),o(61),t(),n(62,"span",12),o(63),t(),n(64,"span",12),o(65),t(),n(66,"span",12),o(67),t(),n(68,"span",12),o(69),t(),n(70,"span",12),o(71),t(),n(72,"span",12),o(73),t(),n(74,"span",12),o(75),t(),n(76,"span",12),o(77),t(),n(78,"span",12),o(79),t()()()()()),r&2){let e=S();a(6),c(e.country.name.common),a(5),p("src",e.country.flags.svg,D)("alt",e.country.name.common),a(8),P(" ",F(20,30,e.country.population)," "),a(5),P(" ",e.country.cca3," "),a(7),c(e.country.translations.ara.common),a(2),c(e.country.translations.bre.common),a(2),c(e.country.translations.ces.common),a(2),c(e.country.translations.cym.common),a(2),c(e.country.translations.deu.common),a(2),c(e.country.translations.est.common),a(2),c(e.country.translations.fin.common),a(2),c(e.country.translations.fra.common),a(2),c(e.country.translations.hrv.common),a(2),c(e.country.translations.hun.common),a(2),c(e.country.translations.ita.common),a(2),c(e.country.translations.jpn.common),a(2),c(e.country.translations.kor.common),a(2),c(e.country.translations.nld.common),a(2),c(e.country.translations.per.common),a(2),c(e.country.translations.pol.common),a(2),c(e.country.translations.por.common),a(2),c(e.country.translations.rus.common),a(2),c(e.country.translations.slk.common),a(2),c(e.country.translations.spa.common),a(2),c(e.country.translations.srp.common),a(2),c(e.country.translations.swe.common),a(2),c(e.country.translations.tur.common),a(2),c(e.country.translations.urd.common),a(2),c(e.country.translations.zho.common)}}var z=class r{constructor(i,e,s){this.activatedRoute=i;this.router=e;this.countriesService=s}country;ngOnInit(){this.activatedRoute.params.pipe(ne(({id:i})=>this.countriesService.searchCountryByAlphaCode(i))).subscribe(i=>i?this.country=i:this.router.navigateByUrl(""))}static \u0275fac=function(e){return new(e||r)(d(pe),d(me),d(f))};static \u0275cmp=m({type:r,selectors:[["app-country-page"]],standalone:!1,decls:3,vars:2,consts:[["loading",""],[4,"ngIf","ngIfElse"],[1,"alert","alert-info","text-center"],[1,"row"],[1,"col-12"],[1,"col-4"],[1,"img-thumbnail",3,"src","alt"],[1,"col"],[1,"list-group"],[1,"list-group-item"],[1,"row","mt-2"],[1,"d-flex","flex-wrap"],[1,"badge","bg-primary","m-1"]],template:function(e,s){if(e&1&&u(0,Pe,2,0,"ng-template",null,0,V)(2,Re,80,32,"div",1),e&2){let y=E(1);a(2),p("ngIf",s.country)("ngIfElse",y)}},dependencies:[g,j],encapsulation:2})};var Te=[{path:"by-capital",component:A},{path:"by-country",component:U},{path:"by-region",component:q},{path:"by/:id",component:z},{path:"**",redirectTo:"by-capital"}],J=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=O({type:r});static \u0275inj=R({imports:[W.forChild(Te),W]})};var fe=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=O({type:r});static \u0275inj=R({imports:[ce,J,de]})};export{fe as CountriesModule};
